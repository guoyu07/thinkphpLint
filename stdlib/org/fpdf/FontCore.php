<?php

namespace org\fpdf;

require_once __DIR__ . "/../../all.php";
use InvalidArgumentException;
use it\icosaedro\containers\Hash;
use it\icosaedro\utils\UString;

/**
 * Builds and represents a single Adobe PDF core font.
 * Core fonts are available under any PDF reader and do not need to be
 * embedded in the generated document. The standard names of these 14 core
 * fonts are also available as constants. Note that Courier, Helvetica and
 * Times have the alternate bold, italic and bold + italic variants, while
 * Symbol and ZapfDingbats do not. Example:
 * <pre>$font = new FontCore(FontCore::HELVETICA_BOLD);</pre>
 * <p>This source is an excerpt from the original FPDF 1.7 program of the author.
 * @version $Date: 2015/03/03 15:41:08 $
 * @author Olivier Plathey
 * @author Umberto Salsi <salsi@icosaedro.it> (porting to PHPLint)
 * @license Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software to use, copy, modify, distribute,
 * sublicense, and/or sell copies of the software, and to permit persons to
 * whom the software is furnished to do so.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED.
 */
class FontCore extends Font {
	
	const
		COURIER = 'Courier',
		COURIER_BOLD = 'Courier-Bold',
		COURIER_BOLD_OBLIQUE = 'Courier-BoldOblique',
		COURIER_OBLIQUE = 'Courier-Oblique',
		HELVETICA = 'Helvetica',
		HELVETICA_BOLD = 'Helvetica-Bold',
		HELVETICA_OBLIQUE = 'Helvetica-Oblique',
		HELVETICA_BOLD_OBLIQUE = 'Helvetica-BoldOblique',
		SYMBOL = 'Symbol',
		TIMES_ROMAN = 'Times-Roman',
		TIMES_BOLD = 'Times-Bold',
		TIMES_BOLD_ITALIC = 'Times-BoldItalic',
		TIMES_ITALIC = 'Times-Italic',
		ZAPFDINGBATS = 'ZapfDingbats';
	
	private $hash = 0;
	
	
	/**
	 * Returns a list of the PDF core font.
	 * @return string[int] List of the PDF core font names.
	 */
	public static function getList()
	{
		return array(
			self::COURIER,
			self::COURIER_BOLD,
			self::COURIER_BOLD_OBLIQUE,
			self::COURIER_OBLIQUE,
			self::HELVETICA,
			self::HELVETICA_BOLD,
			self::HELVETICA_OBLIQUE,
			self::HELVETICA_BOLD_OBLIQUE,
			self::SYMBOL,
			self::TIMES_ROMAN,
			self::TIMES_BOLD,
			self::TIMES_BOLD_ITALIC,
			self::TIMES_ITALIC,
			self::ZAPFDINGBATS
		);
	}
	
	
	/**
	 * @param object $other
	 * @return boolean
	 */
	function equals($other)
	{
		if( $other === NULL )
			return FALSE;
		if( $this === $other )
			return TRUE;
		if( get_class($other) !== __CLASS__ )
			return FALSE;
		$other2 = cast(__CLASS__, $other);
		return $this->name === $other2->name;
	}
	
	
	/**
	 * return int
	 */
	function getHash() {
		if( $this->hash == 0 )
			$this->hash = Hash::hashOfString($this->name);
		return $this->hash;
	}
	
	
	function __toString() {
		return $this->name;
	}
	
	
	function toUString() {
		return UString::fromASCII($this->name);
	}
	
	
	private function helvetica()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>278,1=>278,2=>278,3=>278,4=>278,5=>278,6=>278,7=>278,8=>278,9=>278,10=>278,11=>278,12=>278,13=>278,14=>278,15=>278,16=>278,17=>278,18=>278,19=>278,20=>278,21=>278,
			22=>278,23=>278,24=>278,25=>278,26=>278,27=>278,28=>278,29=>278,30=>278,31=>278,ord(' ')=>278,ord('!')=>278,ord('"')=>355,ord('#')=>556,ord('$')=>556,ord('%')=>889,ord('&')=>667,ord('\'')=>191,ord('(')=>333,ord(')')=>333,ord('*')=>389,ord('+')=>584,
			ord(',')=>278,ord('-')=>333,ord('.')=>278,ord('/')=>278,ord('0')=>556,ord('1')=>556,ord('2')=>556,ord('3')=>556,ord('4')=>556,ord('5')=>556,ord('6')=>556,ord('7')=>556,ord('8')=>556,ord('9')=>556,ord(':')=>278,ord(';')=>278,ord('<')=>584,ord('=')=>584,ord('>')=>584,ord('?')=>556,ord('@')=>1015,ord('A')=>667,
			ord('B')=>667,ord('C')=>722,ord('D')=>722,ord('E')=>667,ord('F')=>611,ord('G')=>778,ord('H')=>722,ord('I')=>278,ord('J')=>500,ord('K')=>667,ord('L')=>556,ord('M')=>833,ord('N')=>722,ord('O')=>778,ord('P')=>667,ord('Q')=>778,ord('R')=>722,ord('S')=>667,ord('T')=>611,ord('U')=>722,ord('V')=>667,ord('W')=>944,
			ord('X')=>667,ord('Y')=>667,ord('Z')=>611,ord('[')=>278,ord('\\')=>278,ord(']')=>278,ord('^')=>469,ord('_')=>556,ord('`')=>333,ord('a')=>556,ord('b')=>556,ord('c')=>500,ord('d')=>556,ord('e')=>556,ord('f')=>278,ord('g')=>556,ord('h')=>556,ord('i')=>222,ord('j')=>222,ord('k')=>500,ord('l')=>222,ord('m')=>833,
			ord('n')=>556,ord('o')=>556,ord('p')=>556,ord('q')=>556,ord('r')=>333,ord('s')=>500,ord('t')=>278,ord('u')=>556,ord('v')=>500,ord('w')=>722,ord('x')=>500,ord('y')=>500,ord('z')=>500,ord('{')=>334,ord('|')=>260,ord('}')=>334,ord('~')=>584,127=>350,128=>556,129=>350,130=>222,131=>556,
			132=>333,133=>1000,134=>556,135=>556,136=>333,137=>1000,138=>667,139=>333,140=>1000,141=>350,142=>611,143=>350,144=>350,145=>222,146=>222,147=>333,148=>333,149=>350,150=>556,151=>1000,152=>333,153=>1000,
			154=>500,155=>333,156=>944,157=>350,158=>500,159=>667,160=>278,161=>333,162=>556,163=>556,164=>556,165=>556,166=>260,167=>556,168=>333,169=>737,170=>370,171=>556,172=>584,173=>333,174=>737,175=>333,
			176=>400,177=>584,178=>333,179=>333,180=>333,181=>556,182=>537,183=>278,184=>333,185=>333,186=>365,187=>556,188=>834,189=>834,190=>834,191=>611,192=>667,193=>667,194=>667,195=>667,196=>667,197=>667,
			198=>1000,199=>722,200=>667,201=>667,202=>667,203=>667,204=>278,205=>278,206=>278,207=>278,208=>722,209=>722,210=>778,211=>778,212=>778,213=>778,214=>778,215=>584,216=>778,217=>722,218=>722,219=>722,
			220=>722,221=>667,222=>667,223=>611,224=>556,225=>556,226=>556,227=>556,228=>556,229=>556,230=>889,231=>500,232=>556,233=>556,234=>556,235=>556,236=>278,237=>278,238=>278,239=>278,240=>556,241=>556,
			242=>556,243=>556,244=>556,245=>556,246=>556,247=>584,248=>611,249=>556,250=>556,251=>556,252=>556,253=>500,254=>556,255=>500);
	}
	
	
	private function helveticab()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>278,1=>278,2=>278,3=>278,4=>278,5=>278,6=>278,7=>278,8=>278,9=>278,10=>278,11=>278,12=>278,13=>278,14=>278,15=>278,16=>278,17=>278,18=>278,19=>278,20=>278,21=>278,
			22=>278,23=>278,24=>278,25=>278,26=>278,27=>278,28=>278,29=>278,30=>278,31=>278,ord(' ')=>278,ord('!')=>333,ord('"')=>474,ord('#')=>556,ord('$')=>556,ord('%')=>889,ord('&')=>722,ord('\'')=>238,ord('(')=>333,ord(')')=>333,ord('*')=>389,ord('+')=>584,
			ord(',')=>278,ord('-')=>333,ord('.')=>278,ord('/')=>278,ord('0')=>556,ord('1')=>556,ord('2')=>556,ord('3')=>556,ord('4')=>556,ord('5')=>556,ord('6')=>556,ord('7')=>556,ord('8')=>556,ord('9')=>556,ord(':')=>333,ord(';')=>333,ord('<')=>584,ord('=')=>584,ord('>')=>584,ord('?')=>611,ord('@')=>975,ord('A')=>722,
			ord('B')=>722,ord('C')=>722,ord('D')=>722,ord('E')=>667,ord('F')=>611,ord('G')=>778,ord('H')=>722,ord('I')=>278,ord('J')=>556,ord('K')=>722,ord('L')=>611,ord('M')=>833,ord('N')=>722,ord('O')=>778,ord('P')=>667,ord('Q')=>778,ord('R')=>722,ord('S')=>667,ord('T')=>611,ord('U')=>722,ord('V')=>667,ord('W')=>944,
			ord('X')=>667,ord('Y')=>667,ord('Z')=>611,ord('[')=>333,ord('\\')=>278,ord(']')=>333,ord('^')=>584,ord('_')=>556,ord('`')=>333,ord('a')=>556,ord('b')=>611,ord('c')=>556,ord('d')=>611,ord('e')=>556,ord('f')=>333,ord('g')=>611,ord('h')=>611,ord('i')=>278,ord('j')=>278,ord('k')=>556,ord('l')=>278,ord('m')=>889,
			ord('n')=>611,ord('o')=>611,ord('p')=>611,ord('q')=>611,ord('r')=>389,ord('s')=>556,ord('t')=>333,ord('u')=>611,ord('v')=>556,ord('w')=>778,ord('x')=>556,ord('y')=>556,ord('z')=>500,ord('{')=>389,ord('|')=>280,ord('}')=>389,ord('~')=>584,127=>350,128=>556,129=>350,130=>278,131=>556,
			132=>500,133=>1000,134=>556,135=>556,136=>333,137=>1000,138=>667,139=>333,140=>1000,141=>350,142=>611,143=>350,144=>350,145=>278,146=>278,147=>500,148=>500,149=>350,150=>556,151=>1000,152=>333,153=>1000,
			154=>556,155=>333,156=>944,157=>350,158=>500,159=>667,160=>278,161=>333,162=>556,163=>556,164=>556,165=>556,166=>280,167=>556,168=>333,169=>737,170=>370,171=>556,172=>584,173=>333,174=>737,175=>333,
			176=>400,177=>584,178=>333,179=>333,180=>333,181=>611,182=>556,183=>278,184=>333,185=>333,186=>365,187=>556,188=>834,189=>834,190=>834,191=>611,192=>722,193=>722,194=>722,195=>722,196=>722,197=>722,
			198=>1000,199=>722,200=>667,201=>667,202=>667,203=>667,204=>278,205=>278,206=>278,207=>278,208=>722,209=>722,210=>778,211=>778,212=>778,213=>778,214=>778,215=>584,216=>778,217=>722,218=>722,219=>722,
			220=>722,221=>667,222=>667,223=>611,224=>556,225=>556,226=>556,227=>556,228=>556,229=>556,230=>889,231=>556,232=>556,233=>556,234=>556,235=>556,236=>278,237=>278,238=>278,239=>278,240=>611,241=>611,
			242=>611,243=>611,244=>611,245=>611,246=>611,247=>584,248=>611,249=>611,250=>611,251=>611,252=>611,253=>556,254=>611,255=>556);
	}
	
	
	private function helveticabi()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>278,1=>278,2=>278,3=>278,4=>278,5=>278,6=>278,7=>278,8=>278,9=>278,10=>278,11=>278,12=>278,13=>278,14=>278,15=>278,16=>278,17=>278,18=>278,19=>278,20=>278,21=>278,
			22=>278,23=>278,24=>278,25=>278,26=>278,27=>278,28=>278,29=>278,30=>278,31=>278,ord(' ')=>278,ord('!')=>333,ord('"')=>474,ord('#')=>556,ord('$')=>556,ord('%')=>889,ord('&')=>722,ord('\'')=>238,ord('(')=>333,ord(')')=>333,ord('*')=>389,ord('+')=>584,
			ord(',')=>278,ord('-')=>333,ord('.')=>278,ord('/')=>278,ord('0')=>556,ord('1')=>556,ord('2')=>556,ord('3')=>556,ord('4')=>556,ord('5')=>556,ord('6')=>556,ord('7')=>556,ord('8')=>556,ord('9')=>556,ord(':')=>333,ord(';')=>333,ord('<')=>584,ord('=')=>584,ord('>')=>584,ord('?')=>611,ord('@')=>975,ord('A')=>722,
			ord('B')=>722,ord('C')=>722,ord('D')=>722,ord('E')=>667,ord('F')=>611,ord('G')=>778,ord('H')=>722,ord('I')=>278,ord('J')=>556,ord('K')=>722,ord('L')=>611,ord('M')=>833,ord('N')=>722,ord('O')=>778,ord('P')=>667,ord('Q')=>778,ord('R')=>722,ord('S')=>667,ord('T')=>611,ord('U')=>722,ord('V')=>667,ord('W')=>944,
			ord('X')=>667,ord('Y')=>667,ord('Z')=>611,ord('[')=>333,ord('\\')=>278,ord(']')=>333,ord('^')=>584,ord('_')=>556,ord('`')=>333,ord('a')=>556,ord('b')=>611,ord('c')=>556,ord('d')=>611,ord('e')=>556,ord('f')=>333,ord('g')=>611,ord('h')=>611,ord('i')=>278,ord('j')=>278,ord('k')=>556,ord('l')=>278,ord('m')=>889,
			ord('n')=>611,ord('o')=>611,ord('p')=>611,ord('q')=>611,ord('r')=>389,ord('s')=>556,ord('t')=>333,ord('u')=>611,ord('v')=>556,ord('w')=>778,ord('x')=>556,ord('y')=>556,ord('z')=>500,ord('{')=>389,ord('|')=>280,ord('}')=>389,ord('~')=>584,127=>350,128=>556,129=>350,130=>278,131=>556,
			132=>500,133=>1000,134=>556,135=>556,136=>333,137=>1000,138=>667,139=>333,140=>1000,141=>350,142=>611,143=>350,144=>350,145=>278,146=>278,147=>500,148=>500,149=>350,150=>556,151=>1000,152=>333,153=>1000,
			154=>556,155=>333,156=>944,157=>350,158=>500,159=>667,160=>278,161=>333,162=>556,163=>556,164=>556,165=>556,166=>280,167=>556,168=>333,169=>737,170=>370,171=>556,172=>584,173=>333,174=>737,175=>333,
			176=>400,177=>584,178=>333,179=>333,180=>333,181=>611,182=>556,183=>278,184=>333,185=>333,186=>365,187=>556,188=>834,189=>834,190=>834,191=>611,192=>722,193=>722,194=>722,195=>722,196=>722,197=>722,
			198=>1000,199=>722,200=>667,201=>667,202=>667,203=>667,204=>278,205=>278,206=>278,207=>278,208=>722,209=>722,210=>778,211=>778,212=>778,213=>778,214=>778,215=>584,216=>778,217=>722,218=>722,219=>722,
			220=>722,221=>667,222=>667,223=>611,224=>556,225=>556,226=>556,227=>556,228=>556,229=>556,230=>889,231=>556,232=>556,233=>556,234=>556,235=>556,236=>278,237=>278,238=>278,239=>278,240=>611,241=>611,
			242=>611,243=>611,244=>611,245=>611,246=>611,247=>584,248=>611,249=>611,250=>611,251=>611,252=>611,253=>556,254=>611,255=>556);
	}
	
	
	private function helveticai()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>278,1=>278,2=>278,3=>278,4=>278,5=>278,6=>278,7=>278,8=>278,9=>278,10=>278,11=>278,12=>278,13=>278,14=>278,15=>278,16=>278,17=>278,18=>278,19=>278,20=>278,21=>278,
			22=>278,23=>278,24=>278,25=>278,26=>278,27=>278,28=>278,29=>278,30=>278,31=>278,ord(' ')=>278,ord('!')=>278,ord('"')=>355,ord('#')=>556,ord('$')=>556,ord('%')=>889,ord('&')=>667,ord('\'')=>191,ord('(')=>333,ord(')')=>333,ord('*')=>389,ord('+')=>584,
			ord(',')=>278,ord('-')=>333,ord('.')=>278,ord('/')=>278,ord('0')=>556,ord('1')=>556,ord('2')=>556,ord('3')=>556,ord('4')=>556,ord('5')=>556,ord('6')=>556,ord('7')=>556,ord('8')=>556,ord('9')=>556,ord(':')=>278,ord(';')=>278,ord('<')=>584,ord('=')=>584,ord('>')=>584,ord('?')=>556,ord('@')=>1015,ord('A')=>667,
			ord('B')=>667,ord('C')=>722,ord('D')=>722,ord('E')=>667,ord('F')=>611,ord('G')=>778,ord('H')=>722,ord('I')=>278,ord('J')=>500,ord('K')=>667,ord('L')=>556,ord('M')=>833,ord('N')=>722,ord('O')=>778,ord('P')=>667,ord('Q')=>778,ord('R')=>722,ord('S')=>667,ord('T')=>611,ord('U')=>722,ord('V')=>667,ord('W')=>944,
			ord('X')=>667,ord('Y')=>667,ord('Z')=>611,ord('[')=>278,ord('\\')=>278,ord(']')=>278,ord('^')=>469,ord('_')=>556,ord('`')=>333,ord('a')=>556,ord('b')=>556,ord('c')=>500,ord('d')=>556,ord('e')=>556,ord('f')=>278,ord('g')=>556,ord('h')=>556,ord('i')=>222,ord('j')=>222,ord('k')=>500,ord('l')=>222,ord('m')=>833,
			ord('n')=>556,ord('o')=>556,ord('p')=>556,ord('q')=>556,ord('r')=>333,ord('s')=>500,ord('t')=>278,ord('u')=>556,ord('v')=>500,ord('w')=>722,ord('x')=>500,ord('y')=>500,ord('z')=>500,ord('{')=>334,ord('|')=>260,ord('}')=>334,ord('~')=>584,127=>350,128=>556,129=>350,130=>222,131=>556,
			132=>333,133=>1000,134=>556,135=>556,136=>333,137=>1000,138=>667,139=>333,140=>1000,141=>350,142=>611,143=>350,144=>350,145=>222,146=>222,147=>333,148=>333,149=>350,150=>556,151=>1000,152=>333,153=>1000,
			154=>500,155=>333,156=>944,157=>350,158=>500,159=>667,160=>278,161=>333,162=>556,163=>556,164=>556,165=>556,166=>260,167=>556,168=>333,169=>737,170=>370,171=>556,172=>584,173=>333,174=>737,175=>333,
			176=>400,177=>584,178=>333,179=>333,180=>333,181=>556,182=>537,183=>278,184=>333,185=>333,186=>365,187=>556,188=>834,189=>834,190=>834,191=>611,192=>667,193=>667,194=>667,195=>667,196=>667,197=>667,
			198=>1000,199=>722,200=>667,201=>667,202=>667,203=>667,204=>278,205=>278,206=>278,207=>278,208=>722,209=>722,210=>778,211=>778,212=>778,213=>778,214=>778,215=>584,216=>778,217=>722,218=>722,219=>722,
			220=>722,221=>667,222=>667,223=>611,224=>556,225=>556,226=>556,227=>556,228=>556,229=>556,230=>889,231=>500,232=>556,233=>556,234=>556,235=>556,236=>278,237=>278,238=>278,239=>278,240=>556,241=>556,
			242=>556,243=>556,244=>556,245=>556,246=>556,247=>584,248=>611,249=>556,250=>556,251=>556,252=>556,253=>500,254=>556,255=>500);
	}
	
	
	private function symbol()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>250,1=>250,2=>250,3=>250,4=>250,5=>250,6=>250,7=>250,8=>250,9=>250,10=>250,11=>250,12=>250,13=>250,14=>250,15=>250,16=>250,17=>250,18=>250,19=>250,20=>250,21=>250,
			22=>250,23=>250,24=>250,25=>250,26=>250,27=>250,28=>250,29=>250,30=>250,31=>250,ord(' ')=>250,ord('!')=>333,ord('"')=>713,ord('#')=>500,ord('$')=>549,ord('%')=>833,ord('&')=>778,ord('\'')=>439,ord('(')=>333,ord(')')=>333,ord('*')=>500,ord('+')=>549,
			ord(',')=>250,ord('-')=>549,ord('.')=>250,ord('/')=>278,ord('0')=>500,ord('1')=>500,ord('2')=>500,ord('3')=>500,ord('4')=>500,ord('5')=>500,ord('6')=>500,ord('7')=>500,ord('8')=>500,ord('9')=>500,ord(':')=>278,ord(';')=>278,ord('<')=>549,ord('=')=>549,ord('>')=>549,ord('?')=>444,ord('@')=>549,ord('A')=>722,
			ord('B')=>667,ord('C')=>722,ord('D')=>612,ord('E')=>611,ord('F')=>763,ord('G')=>603,ord('H')=>722,ord('I')=>333,ord('J')=>631,ord('K')=>722,ord('L')=>686,ord('M')=>889,ord('N')=>722,ord('O')=>722,ord('P')=>768,ord('Q')=>741,ord('R')=>556,ord('S')=>592,ord('T')=>611,ord('U')=>690,ord('V')=>439,ord('W')=>768,
			ord('X')=>645,ord('Y')=>795,ord('Z')=>611,ord('[')=>333,ord('\\')=>863,ord(']')=>333,ord('^')=>658,ord('_')=>500,ord('`')=>500,ord('a')=>631,ord('b')=>549,ord('c')=>549,ord('d')=>494,ord('e')=>439,ord('f')=>521,ord('g')=>411,ord('h')=>603,ord('i')=>329,ord('j')=>603,ord('k')=>549,ord('l')=>549,ord('m')=>576,
			ord('n')=>521,ord('o')=>549,ord('p')=>549,ord('q')=>521,ord('r')=>549,ord('s')=>603,ord('t')=>439,ord('u')=>576,ord('v')=>713,ord('w')=>686,ord('x')=>493,ord('y')=>686,ord('z')=>494,ord('{')=>480,ord('|')=>200,ord('}')=>480,ord('~')=>549,127=>0,128=>0,129=>0,130=>0,131=>0,
			132=>0,133=>0,134=>0,135=>0,136=>0,137=>0,138=>0,139=>0,140=>0,141=>0,142=>0,143=>0,144=>0,145=>0,146=>0,147=>0,148=>0,149=>0,150=>0,151=>0,152=>0,153=>0,
			154=>0,155=>0,156=>0,157=>0,158=>0,159=>0,160=>750,161=>620,162=>247,163=>549,164=>167,165=>713,166=>500,167=>753,168=>753,169=>753,170=>753,171=>1042,172=>987,173=>603,174=>987,175=>603,
			176=>400,177=>549,178=>411,179=>549,180=>549,181=>713,182=>494,183=>460,184=>549,185=>549,186=>549,187=>549,188=>1000,189=>603,190=>1000,191=>658,192=>823,193=>686,194=>795,195=>987,196=>768,197=>768,
			198=>823,199=>768,200=>768,201=>713,202=>713,203=>713,204=>713,205=>713,206=>713,207=>713,208=>768,209=>713,210=>790,211=>790,212=>890,213=>823,214=>549,215=>250,216=>713,217=>603,218=>603,219=>1042,
			220=>987,221=>603,222=>987,223=>603,224=>494,225=>329,226=>790,227=>790,228=>786,229=>713,230=>384,231=>384,232=>384,233=>384,234=>384,235=>384,236=>494,237=>494,238=>494,239=>494,240=>0,241=>329,
			242=>274,243=>686,244=>686,245=>686,246=>384,247=>384,248=>384,249=>384,250=>384,251=>384,252=>494,253=>494,254=>494,255=>0);
	}
	
	
	private function times()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>250,1=>250,2=>250,3=>250,4=>250,5=>250,6=>250,7=>250,8=>250,9=>250,10=>250,11=>250,12=>250,13=>250,14=>250,15=>250,16=>250,17=>250,18=>250,19=>250,20=>250,21=>250,
			22=>250,23=>250,24=>250,25=>250,26=>250,27=>250,28=>250,29=>250,30=>250,31=>250,ord(' ')=>250,ord('!')=>333,ord('"')=>408,ord('#')=>500,ord('$')=>500,ord('%')=>833,ord('&')=>778,ord('\'')=>180,ord('(')=>333,ord(')')=>333,ord('*')=>500,ord('+')=>564,
			ord(',')=>250,ord('-')=>333,ord('.')=>250,ord('/')=>278,ord('0')=>500,ord('1')=>500,ord('2')=>500,ord('3')=>500,ord('4')=>500,ord('5')=>500,ord('6')=>500,ord('7')=>500,ord('8')=>500,ord('9')=>500,ord(':')=>278,ord(';')=>278,ord('<')=>564,ord('=')=>564,ord('>')=>564,ord('?')=>444,ord('@')=>921,ord('A')=>722,
			ord('B')=>667,ord('C')=>667,ord('D')=>722,ord('E')=>611,ord('F')=>556,ord('G')=>722,ord('H')=>722,ord('I')=>333,ord('J')=>389,ord('K')=>722,ord('L')=>611,ord('M')=>889,ord('N')=>722,ord('O')=>722,ord('P')=>556,ord('Q')=>722,ord('R')=>667,ord('S')=>556,ord('T')=>611,ord('U')=>722,ord('V')=>722,ord('W')=>944,
			ord('X')=>722,ord('Y')=>722,ord('Z')=>611,ord('[')=>333,ord('\\')=>278,ord(']')=>333,ord('^')=>469,ord('_')=>500,ord('`')=>333,ord('a')=>444,ord('b')=>500,ord('c')=>444,ord('d')=>500,ord('e')=>444,ord('f')=>333,ord('g')=>500,ord('h')=>500,ord('i')=>278,ord('j')=>278,ord('k')=>500,ord('l')=>278,ord('m')=>778,
			ord('n')=>500,ord('o')=>500,ord('p')=>500,ord('q')=>500,ord('r')=>333,ord('s')=>389,ord('t')=>278,ord('u')=>500,ord('v')=>500,ord('w')=>722,ord('x')=>500,ord('y')=>500,ord('z')=>444,ord('{')=>480,ord('|')=>200,ord('}')=>480,ord('~')=>541,127=>350,128=>500,129=>350,130=>333,131=>500,
			132=>444,133=>1000,134=>500,135=>500,136=>333,137=>1000,138=>556,139=>333,140=>889,141=>350,142=>611,143=>350,144=>350,145=>333,146=>333,147=>444,148=>444,149=>350,150=>500,151=>1000,152=>333,153=>980,
			154=>389,155=>333,156=>722,157=>350,158=>444,159=>722,160=>250,161=>333,162=>500,163=>500,164=>500,165=>500,166=>200,167=>500,168=>333,169=>760,170=>276,171=>500,172=>564,173=>333,174=>760,175=>333,
			176=>400,177=>564,178=>300,179=>300,180=>333,181=>500,182=>453,183=>250,184=>333,185=>300,186=>310,187=>500,188=>750,189=>750,190=>750,191=>444,192=>722,193=>722,194=>722,195=>722,196=>722,197=>722,
			198=>889,199=>667,200=>611,201=>611,202=>611,203=>611,204=>333,205=>333,206=>333,207=>333,208=>722,209=>722,210=>722,211=>722,212=>722,213=>722,214=>722,215=>564,216=>722,217=>722,218=>722,219=>722,
			220=>722,221=>722,222=>556,223=>500,224=>444,225=>444,226=>444,227=>444,228=>444,229=>444,230=>667,231=>444,232=>444,233=>444,234=>444,235=>444,236=>278,237=>278,238=>278,239=>278,240=>500,241=>500,
			242=>500,243=>500,244=>500,245=>500,246=>500,247=>564,248=>500,249=>500,250=>500,251=>500,252=>500,253=>500,254=>500,255=>500);
	}
	
	
	private function timesb()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>250,1=>250,2=>250,3=>250,4=>250,5=>250,6=>250,7=>250,8=>250,9=>250,10=>250,11=>250,12=>250,13=>250,14=>250,15=>250,16=>250,17=>250,18=>250,19=>250,20=>250,21=>250,
			22=>250,23=>250,24=>250,25=>250,26=>250,27=>250,28=>250,29=>250,30=>250,31=>250,ord(' ')=>250,ord('!')=>333,ord('"')=>555,ord('#')=>500,ord('$')=>500,ord('%')=>1000,ord('&')=>833,ord('\'')=>278,ord('(')=>333,ord(')')=>333,ord('*')=>500,ord('+')=>570,
			ord(',')=>250,ord('-')=>333,ord('.')=>250,ord('/')=>278,ord('0')=>500,ord('1')=>500,ord('2')=>500,ord('3')=>500,ord('4')=>500,ord('5')=>500,ord('6')=>500,ord('7')=>500,ord('8')=>500,ord('9')=>500,ord(':')=>333,ord(';')=>333,ord('<')=>570,ord('=')=>570,ord('>')=>570,ord('?')=>500,ord('@')=>930,ord('A')=>722,
			ord('B')=>667,ord('C')=>722,ord('D')=>722,ord('E')=>667,ord('F')=>611,ord('G')=>778,ord('H')=>778,ord('I')=>389,ord('J')=>500,ord('K')=>778,ord('L')=>667,ord('M')=>944,ord('N')=>722,ord('O')=>778,ord('P')=>611,ord('Q')=>778,ord('R')=>722,ord('S')=>556,ord('T')=>667,ord('U')=>722,ord('V')=>722,ord('W')=>1000,
			ord('X')=>722,ord('Y')=>722,ord('Z')=>667,ord('[')=>333,ord('\\')=>278,ord(']')=>333,ord('^')=>581,ord('_')=>500,ord('`')=>333,ord('a')=>500,ord('b')=>556,ord('c')=>444,ord('d')=>556,ord('e')=>444,ord('f')=>333,ord('g')=>500,ord('h')=>556,ord('i')=>278,ord('j')=>333,ord('k')=>556,ord('l')=>278,ord('m')=>833,
			ord('n')=>556,ord('o')=>500,ord('p')=>556,ord('q')=>556,ord('r')=>444,ord('s')=>389,ord('t')=>333,ord('u')=>556,ord('v')=>500,ord('w')=>722,ord('x')=>500,ord('y')=>500,ord('z')=>444,ord('{')=>394,ord('|')=>220,ord('}')=>394,ord('~')=>520,127=>350,128=>500,129=>350,130=>333,131=>500,
			132=>500,133=>1000,134=>500,135=>500,136=>333,137=>1000,138=>556,139=>333,140=>1000,141=>350,142=>667,143=>350,144=>350,145=>333,146=>333,147=>500,148=>500,149=>350,150=>500,151=>1000,152=>333,153=>1000,
			154=>389,155=>333,156=>722,157=>350,158=>444,159=>722,160=>250,161=>333,162=>500,163=>500,164=>500,165=>500,166=>220,167=>500,168=>333,169=>747,170=>300,171=>500,172=>570,173=>333,174=>747,175=>333,
			176=>400,177=>570,178=>300,179=>300,180=>333,181=>556,182=>540,183=>250,184=>333,185=>300,186=>330,187=>500,188=>750,189=>750,190=>750,191=>500,192=>722,193=>722,194=>722,195=>722,196=>722,197=>722,
			198=>1000,199=>722,200=>667,201=>667,202=>667,203=>667,204=>389,205=>389,206=>389,207=>389,208=>722,209=>722,210=>778,211=>778,212=>778,213=>778,214=>778,215=>570,216=>778,217=>722,218=>722,219=>722,
			220=>722,221=>722,222=>611,223=>556,224=>500,225=>500,226=>500,227=>500,228=>500,229=>500,230=>722,231=>444,232=>444,233=>444,234=>444,235=>444,236=>278,237=>278,238=>278,239=>278,240=>500,241=>556,
			242=>500,243=>500,244=>500,245=>500,246=>500,247=>570,248=>500,249=>556,250=>556,251=>556,252=>556,253=>500,254=>556,255=>500);
	}
	
	
	private function timesbi()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>250,1=>250,2=>250,3=>250,4=>250,5=>250,6=>250,7=>250,8=>250,9=>250,10=>250,11=>250,12=>250,13=>250,14=>250,15=>250,16=>250,17=>250,18=>250,19=>250,20=>250,21=>250,
			22=>250,23=>250,24=>250,25=>250,26=>250,27=>250,28=>250,29=>250,30=>250,31=>250,ord(' ')=>250,ord('!')=>389,ord('"')=>555,ord('#')=>500,ord('$')=>500,ord('%')=>833,ord('&')=>778,ord('\'')=>278,ord('(')=>333,ord(')')=>333,ord('*')=>500,ord('+')=>570,
			ord(',')=>250,ord('-')=>333,ord('.')=>250,ord('/')=>278,ord('0')=>500,ord('1')=>500,ord('2')=>500,ord('3')=>500,ord('4')=>500,ord('5')=>500,ord('6')=>500,ord('7')=>500,ord('8')=>500,ord('9')=>500,ord(':')=>333,ord(';')=>333,ord('<')=>570,ord('=')=>570,ord('>')=>570,ord('?')=>500,ord('@')=>832,ord('A')=>667,
			ord('B')=>667,ord('C')=>667,ord('D')=>722,ord('E')=>667,ord('F')=>667,ord('G')=>722,ord('H')=>778,ord('I')=>389,ord('J')=>500,ord('K')=>667,ord('L')=>611,ord('M')=>889,ord('N')=>722,ord('O')=>722,ord('P')=>611,ord('Q')=>722,ord('R')=>667,ord('S')=>556,ord('T')=>611,ord('U')=>722,ord('V')=>667,ord('W')=>889,
			ord('X')=>667,ord('Y')=>611,ord('Z')=>611,ord('[')=>333,ord('\\')=>278,ord(']')=>333,ord('^')=>570,ord('_')=>500,ord('`')=>333,ord('a')=>500,ord('b')=>500,ord('c')=>444,ord('d')=>500,ord('e')=>444,ord('f')=>333,ord('g')=>500,ord('h')=>556,ord('i')=>278,ord('j')=>278,ord('k')=>500,ord('l')=>278,ord('m')=>778,
			ord('n')=>556,ord('o')=>500,ord('p')=>500,ord('q')=>500,ord('r')=>389,ord('s')=>389,ord('t')=>278,ord('u')=>556,ord('v')=>444,ord('w')=>667,ord('x')=>500,ord('y')=>444,ord('z')=>389,ord('{')=>348,ord('|')=>220,ord('}')=>348,ord('~')=>570,127=>350,128=>500,129=>350,130=>333,131=>500,
			132=>500,133=>1000,134=>500,135=>500,136=>333,137=>1000,138=>556,139=>333,140=>944,141=>350,142=>611,143=>350,144=>350,145=>333,146=>333,147=>500,148=>500,149=>350,150=>500,151=>1000,152=>333,153=>1000,
			154=>389,155=>333,156=>722,157=>350,158=>389,159=>611,160=>250,161=>389,162=>500,163=>500,164=>500,165=>500,166=>220,167=>500,168=>333,169=>747,170=>266,171=>500,172=>606,173=>333,174=>747,175=>333,
			176=>400,177=>570,178=>300,179=>300,180=>333,181=>576,182=>500,183=>250,184=>333,185=>300,186=>300,187=>500,188=>750,189=>750,190=>750,191=>500,192=>667,193=>667,194=>667,195=>667,196=>667,197=>667,
			198=>944,199=>667,200=>667,201=>667,202=>667,203=>667,204=>389,205=>389,206=>389,207=>389,208=>722,209=>722,210=>722,211=>722,212=>722,213=>722,214=>722,215=>570,216=>722,217=>722,218=>722,219=>722,
			220=>722,221=>611,222=>611,223=>500,224=>500,225=>500,226=>500,227=>500,228=>500,229=>500,230=>722,231=>444,232=>444,233=>444,234=>444,235=>444,236=>278,237=>278,238=>278,239=>278,240=>500,241=>556,
			242=>500,243=>500,244=>500,245=>500,246=>500,247=>570,248=>500,249=>556,250=>556,251=>556,252=>556,253=>444,254=>500,255=>444);
	}
	
	
	private function timesi()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>250,1=>250,2=>250,3=>250,4=>250,5=>250,6=>250,7=>250,8=>250,9=>250,10=>250,11=>250,12=>250,13=>250,14=>250,15=>250,16=>250,17=>250,18=>250,19=>250,20=>250,21=>250,
			22=>250,23=>250,24=>250,25=>250,26=>250,27=>250,28=>250,29=>250,30=>250,31=>250,ord(' ')=>250,ord('!')=>333,ord('"')=>420,ord('#')=>500,ord('$')=>500,ord('%')=>833,ord('&')=>778,ord('\'')=>214,ord('(')=>333,ord(')')=>333,ord('*')=>500,ord('+')=>675,
			ord(',')=>250,ord('-')=>333,ord('.')=>250,ord('/')=>278,ord('0')=>500,ord('1')=>500,ord('2')=>500,ord('3')=>500,ord('4')=>500,ord('5')=>500,ord('6')=>500,ord('7')=>500,ord('8')=>500,ord('9')=>500,ord(':')=>333,ord(';')=>333,ord('<')=>675,ord('=')=>675,ord('>')=>675,ord('?')=>500,ord('@')=>920,ord('A')=>611,
			ord('B')=>611,ord('C')=>667,ord('D')=>722,ord('E')=>611,ord('F')=>611,ord('G')=>722,ord('H')=>722,ord('I')=>333,ord('J')=>444,ord('K')=>667,ord('L')=>556,ord('M')=>833,ord('N')=>667,ord('O')=>722,ord('P')=>611,ord('Q')=>722,ord('R')=>611,ord('S')=>500,ord('T')=>556,ord('U')=>722,ord('V')=>611,ord('W')=>833,
			ord('X')=>611,ord('Y')=>556,ord('Z')=>556,ord('[')=>389,ord('\\')=>278,ord(']')=>389,ord('^')=>422,ord('_')=>500,ord('`')=>333,ord('a')=>500,ord('b')=>500,ord('c')=>444,ord('d')=>500,ord('e')=>444,ord('f')=>278,ord('g')=>500,ord('h')=>500,ord('i')=>278,ord('j')=>278,ord('k')=>444,ord('l')=>278,ord('m')=>722,
			ord('n')=>500,ord('o')=>500,ord('p')=>500,ord('q')=>500,ord('r')=>389,ord('s')=>389,ord('t')=>278,ord('u')=>500,ord('v')=>444,ord('w')=>667,ord('x')=>444,ord('y')=>444,ord('z')=>389,ord('{')=>400,ord('|')=>275,ord('}')=>400,ord('~')=>541,127=>350,128=>500,129=>350,130=>333,131=>500,
			132=>556,133=>889,134=>500,135=>500,136=>333,137=>1000,138=>500,139=>333,140=>944,141=>350,142=>556,143=>350,144=>350,145=>333,146=>333,147=>556,148=>556,149=>350,150=>500,151=>889,152=>333,153=>980,
			154=>389,155=>333,156=>667,157=>350,158=>389,159=>556,160=>250,161=>389,162=>500,163=>500,164=>500,165=>500,166=>275,167=>500,168=>333,169=>760,170=>276,171=>500,172=>675,173=>333,174=>760,175=>333,
			176=>400,177=>675,178=>300,179=>300,180=>333,181=>500,182=>523,183=>250,184=>333,185=>300,186=>310,187=>500,188=>750,189=>750,190=>750,191=>500,192=>611,193=>611,194=>611,195=>611,196=>611,197=>611,
			198=>889,199=>667,200=>611,201=>611,202=>611,203=>611,204=>333,205=>333,206=>333,207=>333,208=>722,209=>667,210=>722,211=>722,212=>722,213=>722,214=>722,215=>675,216=>722,217=>722,218=>722,219=>722,
			220=>722,221=>556,222=>611,223=>500,224=>500,225=>500,226=>500,227=>500,228=>500,229=>500,230=>667,231=>444,232=>444,233=>444,234=>444,235=>444,236=>278,237=>278,238=>278,239=>278,240=>500,241=>500,
			242=>500,243=>500,244=>500,245=>500,246=>500,247=>675,248=>500,249=>500,250=>500,251=>500,252=>500,253=>444,254=>500,255=>444);
	}
	
	
	private function zapfdingbats()
	{
		$this->underlinePosition = -100;
		$this->underlineThickness = 50;
		$this->charWidths = array(
			0=>0,1=>0,2=>0,3=>0,4=>0,5=>0,6=>0,7=>0,8=>0,9=>0,10=>0,11=>0,12=>0,13=>0,14=>0,15=>0,16=>0,17=>0,18=>0,19=>0,20=>0,21=>0,
			22=>0,23=>0,24=>0,25=>0,26=>0,27=>0,28=>0,29=>0,30=>0,31=>0,ord(' ')=>278,ord('!')=>974,ord('"')=>961,ord('#')=>974,ord('$')=>980,ord('%')=>719,ord('&')=>789,ord('\'')=>790,ord('(')=>791,ord(')')=>690,ord('*')=>960,ord('+')=>939,
			ord(',')=>549,ord('-')=>855,ord('.')=>911,ord('/')=>933,ord('0')=>911,ord('1')=>945,ord('2')=>974,ord('3')=>755,ord('4')=>846,ord('5')=>762,ord('6')=>761,ord('7')=>571,ord('8')=>677,ord('9')=>763,ord(':')=>760,ord(';')=>759,ord('<')=>754,ord('=')=>494,ord('>')=>552,ord('?')=>537,ord('@')=>577,ord('A')=>692,
			ord('B')=>786,ord('C')=>788,ord('D')=>788,ord('E')=>790,ord('F')=>793,ord('G')=>794,ord('H')=>816,ord('I')=>823,ord('J')=>789,ord('K')=>841,ord('L')=>823,ord('M')=>833,ord('N')=>816,ord('O')=>831,ord('P')=>923,ord('Q')=>744,ord('R')=>723,ord('S')=>749,ord('T')=>790,ord('U')=>792,ord('V')=>695,ord('W')=>776,
			ord('X')=>768,ord('Y')=>792,ord('Z')=>759,ord('[')=>707,ord('\\')=>708,ord(']')=>682,ord('^')=>701,ord('_')=>826,ord('`')=>815,ord('a')=>789,ord('b')=>789,ord('c')=>707,ord('d')=>687,ord('e')=>696,ord('f')=>689,ord('g')=>786,ord('h')=>787,ord('i')=>713,ord('j')=>791,ord('k')=>785,ord('l')=>791,ord('m')=>873,
			ord('n')=>761,ord('o')=>762,ord('p')=>762,ord('q')=>759,ord('r')=>759,ord('s')=>892,ord('t')=>892,ord('u')=>788,ord('v')=>784,ord('w')=>438,ord('x')=>138,ord('y')=>277,ord('z')=>415,ord('{')=>392,ord('|')=>392,ord('}')=>668,ord('~')=>668,127=>0,128=>390,129=>390,130=>317,131=>317,
			132=>276,133=>276,134=>509,135=>509,136=>410,137=>410,138=>234,139=>234,140=>334,141=>334,142=>0,143=>0,144=>0,145=>0,146=>0,147=>0,148=>0,149=>0,150=>0,151=>0,152=>0,153=>0,
			154=>0,155=>0,156=>0,157=>0,158=>0,159=>0,160=>0,161=>732,162=>544,163=>544,164=>910,165=>667,166=>760,167=>760,168=>776,169=>595,170=>694,171=>626,172=>788,173=>788,174=>788,175=>788,
			176=>788,177=>788,178=>788,179=>788,180=>788,181=>788,182=>788,183=>788,184=>788,185=>788,186=>788,187=>788,188=>788,189=>788,190=>788,191=>788,192=>788,193=>788,194=>788,195=>788,196=>788,197=>788,
			198=>788,199=>788,200=>788,201=>788,202=>788,203=>788,204=>788,205=>788,206=>788,207=>788,208=>788,209=>788,210=>788,211=>788,212=>894,213=>838,214=>1016,215=>458,216=>748,217=>924,218=>748,219=>918,
			220=>927,221=>928,222=>928,223=>834,224=>873,225=>828,226=>924,227=>924,228=>917,229=>930,230=>931,231=>463,232=>883,233=>836,234=>836,235=>867,236=>867,237=>696,238=>696,239=>874,240=>0,241=>874,
			242=>760,243=>946,244=>771,245=>865,246=>771,247=>888,248=>967,249=>888,250=>831,251=>873,252=>927,253=>970,254=>918,255=>0);
	}
	

	/**
	 * Builds a PDF core font.
	 * @param string $fontname Name of the standard PDF's core font.
	 * @throws InvalidArgumentException Invalid core font name.
	 */
	public function __construct($fontname)
	{
		$this->name = $fontname;
		switch($fontname){
			
			case self::COURIER:
				$this->underlinePosition = -100;
				$this->underlineThickness = 50;
				for($i=0;$i<=255;$i++)
					$this->charWidths[$i] = 600;
				break;
				
			case self::COURIER_BOLD:
				$this->underlinePosition = -100;
				$this->underlineThickness = 50;
				for($i=0;$i<=255;$i++)
					$this->charWidths[$i] = 600;
				break;
				
			case self::COURIER_BOLD_OBLIQUE:
				$this->underlinePosition = -100;
				$this->underlineThickness = 50;
				for($i=0;$i<=255;$i++)
					$this->charWidths[$i] = 600;
				break;
				
			case self::COURIER_OBLIQUE:
				$this->underlinePosition = -100;
				$this->underlineThickness = 50;
				for($i=0;$i<=255;$i++)
					$this->charWidths[$i] = 600;
				break;
				
			case self::HELVETICA:  $this->helvetica();  break;
			case self::HELVETICA_BOLD:  $this->helveticab();  break;
			case self::HELVETICA_BOLD_OBLIQUE:  $this->helveticabi();  break;
			case self::HELVETICA_OBLIQUE:  $this->helveticai();  break;
			case self::SYMBOL:  $this->symbol();  break;
			case self::TIMES_ROMAN:  $this->times();  break;
			case self::TIMES_BOLD:  $this->timesb();  break;
			case self::TIMES_BOLD_ITALIC:  $this->timesbi();  break;
			case self::TIMES_ITALIC:  $this->timesi();  break;
			case self::ZAPFDINGBATS:  $this->zapfdingbats();  break;
			default:
				throw new InvalidArgumentException("no this core font: $fontname. Valid names are: "
						. implode(", ", self::getList()));
		}
		$this->missingWidth = $this->charWidths[0]; // FIXME: ok?
	}
	
	
	/**
	 * Writes this font into the PDF document and sets the $n property.
	 * @param PdfObjWriterInterface $w
	 */
	public function put($w) {
		$this->n = $w->addObj();
		$w->put('<</Type /Font');
		$w->put('/BaseFont /'.$this->name);
		$w->put('/Subtype /Type1');
		if($this->name !== 'Symbol' && $this->name !== 'ZapfDingbats')
			$w->put('/Encoding /WinAnsiEncoding');
		$w->put('>>');
		$w->put('endobj');
	}
	
	
	/**
	 * Returns a core font given family, bold, italic style. COnvenience method
	 * that may simplify simpler applications. Convenience method that may be
	 * used in place of the constructor to build styled core fonts.
	 * @param string $family Requested font family: Courier, Helvetica or Times
	 * (case insensitive).
	 * @param boolean $bold
	 * @param boolean $italic
	 * @throws InvalidArgumentException No this font family.
	 */
	public static function factory($family, $bold, $italic) {
		$a = array(
			"courier" => array(self::COURIER, self::COURIER_BOLD, self::COURIER_OBLIQUE, self::COURIER_BOLD_OBLIQUE),
			"helvetica" => array(self::HELVETICA, self::HELVETICA_BOLD, self::HELVETICA_OBLIQUE, self::HELVETICA_BOLD_OBLIQUE),
			"times" => array(self::TIMES_ROMAN, self::TIMES_BOLD, self::TIMES_ITALIC, self::TIMES_BOLD_ITALIC)
		);
		if( ! isset($a[$family]) )
			throw new InvalidArgumentException("undefined core font family: $family");
		$name = $a[$family][($bold? 1 : 0) + ($italic? 2 : 0)];
		return new self($name);
	}
	
}
